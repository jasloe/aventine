body.page {
  .field-page-image,
  .field-page-video {
    margin: 0 auto;
    max-width: $jumbotron;
  }
}

.field-page-page-section {
  @include margin-top;
}

.field-page-page-section > .field__item {
  margin-bottom: 3rem;
}

.field-page-page-section > .field__item:last-child {
  margin-bottom: 0;
}

.page-section {
  display: flex;
  flex-direction: column;

  @include mq($from: tablet) {
    flex-direction: row;

    .column-first {
      flex-basis: $column-first;
    }

    .column-second {
      flex-basis: $column-second;
    }
  }
}

.page-section h2.subtitle {
  @include subtitle-sans;
  padding-right: 2rem;
  margin-bottom: 1rem;
}

@include mq($from: tablet) {
  .page-section .column-second {
    padding-right: 20%;
  }
}

.page-section .column-second {
  display: flex;
  flex-direction: column;
}

.page-section .column-second p {
  @include body;
}

.page-section .column-second p {
  margin-bottom: 1rem;
}

.page-section .column-second p:last-child {
  margin-bottom: 0;
}

.page-section .column-second h3 {
  @include label;
}

// Events.
body.events .field-events-event-series,
body.events .field-events-event-type {
  @include label;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

body.events h1 {
  margin-bottom: 1rem;
}

.events-detail {
  .daterange,
  .field-events-event-dates-overrid p {
    @include body;
    margin-bottom: 1rem;
  }

  .field-events-rel-places {
    margin-bottom: 2rem;
  }
}

body.events {
  .blazy img {
    width: 100%;
  }
}

// News features.
body.news-features {
  .field-news-features-byline,
  .datetime {
    @include body;
    line-height: 1;
  }

  .page-section {
    @include margin-top;
  }
}

// Profile.
.people .region-content {
  max-width: $max-vw;
  margin: 0 auto;
  padding-top: 1rem;
}

.people .region-content .profile.wrapper {
  margin-right: 0;
}

.people .region-content .column-second {
  padding: 0 1rem;
}

@include mq($from: tablet) {
  .people .region-content .column-first {
    padding-left: 1rem;
    padding-right: 0;
    margin-right: 1rem;
  }

  .column-second {
    padding: 0 !important;
  }

  .field-people-project-description,
  .field-people-biographical-note {
    padding-right: 20%;
  }
}

.profile.wrapper {
  .columns {
    display: flex;
    flex-direction: column;

    @include mq($from: tablet) {
      flex-direction: row;

      .column-first {
        flex-basis: $column-first;
      }

      .column-second {
        flex-basis: $column-second;
      }
    }
  }

  img {
    width: 100%;
  }
}

.profile.wrapper {
  h2 {
    @include title-card-sans;
    margin-top: 1rem;
    margin-bottom: 1rem;

    @include mq($from: tablet) {
      margin-top: 0;
    }
  }

  .field-people-affiliations .field__item {
    @include body;
    line-height: 1.2;
  }

  .field-people-affiliations {
    margin-bottom: 1rem;
  }

  .field .field__label {
    @include label-ulcase;
  }

  .field-people-professions,
  .field-people-project-title,
  .field-people-project-description p,
  .field-people-biographical-note p {
    @include body;
    line-height: 1.4;
    margin-bottom: 1rem;
  }
}

// Publications.
.publications > div {
  margin-bottom: 4rem;
}

.publications > div:last-of-type {
  margin-bottom: 0;
}

.publication.wrapper {
  margin-right: 0;
  margin-bottom: 3rem;

  .columns {
    display: flex;
    flex-direction: column;

    @include mq($from: tablet) {
      flex-direction: row;

      .column-first {
        flex-basis: $column-first;
      }

      .column-second {
        flex-basis: $column-second;
      }
    }
  }

  img {
    width: 100%;
  }
}

.publication.wrapper {
  h2 {
    @include title-card-serif;
    margin-top: 1rem;
    margin-bottom: 1rem;

    @include mq($from: tablet) {
      margin-top: 0;
    }
  }

  .field.field__item {
    margin-bottom: 0 !important;
  }

  .field.field__item,
  .field.field__item p {
    @include body;
    line-height: 1.4;
    margin-bottom: 1rem;
  }

  .body {
    margin-top: 1rem;
  }
}

@include mq($from: tablet) {
  .publication.wrapper .column-first {
    padding-right: 1rem;
  }
}

// Resources.
.page-section.resources {
  @include layout-page-section;
}

.page-section.resources h3 {
  @include title-card-sans;
  @include font-size($small);
}

.page-section.resources .resource-title {
  @include label;
  text-transform: initial;
}

.page-section.resources {
  margin-bottom: 2rem;
}

.page-section.resources .resource {
  margin-bottom: 1rem;
}

.page-section.resources:last-child,
.page-section.resources .resource:last-child {
  margin-bottom: 0;
}

.programs .page-section {
  @include margin-top;
}

.programs .field-page-section-files {
  margin-top: 1rem;

  .field__item {
    margin-bottom: 3rem;

    &:last-child {
      margin-bottom: 0;
    }
  }
}

.programs .field-program-image {
  margin: 0 auto;
  max-width: $jumbotron;

  img {
    width: 100%;
  }
}

.field-program-image {
  .field-media-image {
    height: 0;
    overflow: hidden;
    padding-top: 56.25%;
    background: white;
    position: relative;
    background-color: #f8faf5;

    img {
      position: absolute;
      top: 0;
      left: 0;
      width: auto;
      height: 100%;
    }
  }
}

.society-of-fellows .field-media-image,
.news-features .slick__slide .field-media-image {
  margin: 0 auto;
  max-width: $jumbotron;

  img {
    width: 100%;
  }
}

.news-features .page.extended {
  .summary-wrapper {
    margin: 0 auto 1rem 0;
    max-width: $max-vw;
    padding: 0 1rem;
  }

  .field-news-features-byline {
    display: flex;
    margin-top: 1rem;

    .field__label {
      margin-right: 4px;
    }
  }

  .field-news-features-byline p,
  .field-news-features-summary p {
    @include body;
  }

  .page-section.wrapper {
    @include margin-top;
  }

  .page-section {
    margin-top: 0;
  }

  .image-wrapper {
    margin-bottom: 1rem;
  }
}

@include mq($from: tablet) {
  .news-features .page-section .column-second,
  .society-of-fellows .page-section .column-second {
    padding-right: 20% !important;
  }
}

.news-features .page-section,
.society-of-fellows .page-section {
  @include margin-top;
}

.field-page-section-files,
.field-page-section-links {
  a {
    color: $black;
    transition: color 0.22s ease;
  }

  a:hover {
    color: $gray;
  }
}

// Image tweak for For the Ages layout
.extended {
  img {
    max-width: 100% !important;
    height: auto;
    width: auto;
  }
}

// News feature metadata
.news-features {
  .field-news-features-byline,
  .field-news-features-date {
    max-width: $max-vw;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .field-news-features-date {
    padding: 0 1rem;
  }
  .field-news-features-byline {
    padding: 0rem;
  }

  .field-news-features-byline {
    display: flex;
    .field__label {
      margin-right: 0.25rem;
    }
  }
  .field-news-features-byline,
  .field-news-features-date {
    font-family: $dignitas !important;
    @include font-size($body !important);
    text-transform: initial !important;
  }

  .field-news-features-date {
    padding-bottom: 1rem !important;
  }
}

// Fixes for inline images.
.page .media-wrapper--blazy,
.events .media-wrapper--blazy,
.news-features .media-wrapper--blazy {
  max-width: 80%;
}

.page .media-wrapper--video {
  max-width: 100%;
}

.page figure .media-wrapper--blazy,
.events figure .media-wrapper--blazy,
.news-features .media-wrapper--blazy {
  max-width: 100%;
}

body.page .inline-logo img,
body.events .inline-logo img,
body.news-features .inline-logo img {
  width: initial;
  max-width: 250px;
}

.news-features .column-second .field-media-image {
  margin-top: 1rem;
}

@include mq($until: tablet) {
  .page .media-wrapper--blazy,
  .page .media-wrapper--video,
  .events .media-wrapper--blazy,
  .news-features .media-wrapper--blazy {
    max-width: 100%;
  }
}

// For the ages.
.path-news-features-ages .page.extended .field__item {
  margin-bottom: 1rem;
}

/* Events refactoring
   Includes support for new event page template,
   filters, and accordion functionality */

/* reset page title region */
.path-events .region-page-title {
  max-width: initial;
  margin: 0;
  padding: 0;
}

.path-events .events-container {
  display: flex;
}

body.index-events .region-content {
  margin-top: 0;
}

.path-events .accordion-container {
  @include mq($until: tablet) {
    padding: 0 1rem;
  }
}

.path-events .ac {
  border-top: 1px solid $gray;
  border-bottom: none;
  border-left: none;
  border-right: none;
  margin-top: 0; // override default styling
  .ac-header {
    padding: 2rem 0 0 0;
  }
}

.path-events .ac-panel {
  padding-top: 3rem;
}

.ac .ac-trigger {
  padding: 0px 0px 0px 0px !important;
}

.path-events {
  .daterange,
  .field-events-event-dates-overrid p,
  .field-events-rel-places {
    font-family: $display-serif;
    @include font-size($medium);
    font-weight: 100;
  }
  .title {
    padding-right: 20%;
  }
  .field-events-event-type .field__item,
  .field-events-event-series .field__item {
    font-family: "Dignitas Regular";
    @include font-size($medium);
    font-weight: 100;
    line-height: 1;
    text-transform: initial;
    color: $gray;
    margin-bottom: 2px;
  }
}

.path-events h2 span {
  font-family: "Dignitas Regular";
  @include font-size(2.8rem);
  font-weight: 100;
  line-height: 1;
  text-transform: initial;
}

.path-events .event-metadata {
  display: flex;
  justify-content: space-between;
  margin-bottom: 2rem;
}

.path-events .pager__items {
  display: flex;
  .pager__item {
    padding: 1rem;
  }
  .pager__item:first-child {
    padding-left: 0rem;
  }
  .pager__item:last-child {
    padding-right: 0rem;
  }
}

.path-events .pager {
  display: flex;
  padding: 1rem 0;
  justify-content: center;
  align-items: center;
}

.path-events .event-summary {
  font-family: "Dignitas Regular";
  @include font-size($small);
  line-height: 1.2;
  padding-top: 2rem;
  padding-bottom: 1rem;
  padding-right: 25%;
  @include mq($until: tablet) {
    padding-right: 1rem;
  }
}

.path-events .more-info {
  font-family: $tradegothic;
  text-transform: uppercase;
  font-variant: small-caps;
  font-weight: 400;
  font-size: 0.75rem;
  letter-spacing: 0.02rem;
  margin: 1rem 0 1rem 0;
  &:after {
    content: "→";
  }
}

body.events .region-content article {
  .field-events-event-series,
  .field-events-event-type {
    font-family: $dignitas;
    text-transform: initial;
    @include font-size($xsmall);
    color: $gray;
    font-weight: 100;
    line-height: 1;
  }
  .daterange,
  .field-events-event-dates-overrid p,
  .field-events-rel-places {
    font-family: $display-serif;
    @include font-size($xsmall);
    font-weight: 100;
    line-height: 1;
    margin-bottom: 0;
  }
  h1 {
    @include font-size($medium);
    margin: 0 !important;
  }
}

body.events .region-content .row-first {
  display: flex;
  align-items: top;
  gap: 1rem;
  margin-bottom: 4rem;
  @include mq($until: tablet) {
    flex-direction: column;
  }
  .column {
    flex-basis: 50%;
  }
  .columm-second {
  }
  .blazy__caption {
    padding-left: 1rem;
  }
  // overrides
  .event-image-wrapper {
    max-width: initial;
    margin: 0;
  }
}

body.events .region-content .row-second {
  .body {
    margin-top: 3rem;
    margin-right: 20%;
    margin-left: 20%;
  }
  .body p {
    @include body;
    @include font-size($xsmall !important);
    margin-bottom: 1rem;
  }
  h3,
  strong {
    @include body;
    @include font-size($xsmall !important);
    color: $gray;
    font-weight: 100;
  }
}

body.events .event-container {
  max-width: $max-vw;
  margin: 3rem auto;
  padding: 0 1rem;
}
